var SERVICE=SERVICE||{};(function(s){"use strict";SERVICE={init:function(){this.total_price();this.submit_addons()},total_price:function(){var n=s(".package-addons"),t=s(".package-total").find(".number"),e=s(".package-total").data("start-price");n.find('input[type="checkbox"]').click(function(){var a=e;n.find("input:checkbox:checked").each(function(){a+=isNaN(parseInt(s(this).val()))?0:parseInt(s(this).val())});t.text(a);var i=0;n.find("input:checkbox:checked").each(function(){i+=isNaN(parseInt(s(this).val()))?0:parseInt(s(this).val())});s(".service-package-sidebar").find('input[name="price_addons"]').val(i)})},submit_addons:function(){var c=civi_template_vars.ajax_url,d=civi_addons_vars.payment_url;s("body").on("click","#btn-submit-addons",function(a){var i=s(".service-package-sidebar"),n=i.find('input[name="service_id').val(),t=i.find(".package-total .number").text(),e=i.find('input[name="price_addons').val();a.preventDefault();s.ajax({type:"post",url:c,dataType:"json",data:{action:"civi_service_addons",service_id:n,price_total:t,price_addons:e},beforeSend:function(){i.find(".btn-loading").fadeIn()},success:function(a){if(a.success==true){window.location.href=d}i.find(".btn-loading").fadeOut()}})})}};s(document).ready(function(){SERVICE.init()})})(jQuery);