(function(C){"use strict";var z=civi_submit_vars.ajax_url,H=civi_submit_vars.service_dashboard,I=C("#submit_service_form"),t=I.data("titleerror"),r=I.data("deserror"),n=I.data("caterror"),s=I.data("priceerror"),a=I.data("timeerror");C(document).ready(function(){var e=I.find(".civi-addons-warpper > .row:first-child");e.find(".group-title i").removeClass("delete-group");I.on("click","i.delete-group",function(){var e=C(this).closest(".group-title").closest(".row");var i=e.siblings(".row");var t=e.siblings("template");e.remove();C.each(i,function e(i){C(this).find(".group-title h6 span").text(i+1)});t.data("size",i.size())});I.find(".btn-more.service-fields").on("click",function(){var e=C(this).siblings("template");var i=C(e.html().trim());var t=C(this).closest(".civi-addons-warpper").find(".row");var r=parseInt(t.length)+1;i.find(".group-title h6 span").text(r);i.insertBefore(C(this));e.data("size",r)});I.on("click",".group-title",function(){if(!C(this).hasClass("up")){C(this).addClass("up")}else{C(this).removeClass("up")}});C.validator.setDefaults({ignore:":hidden:not(select)"});I.validate({ignore:[],rules:{service_title:{required:true},service_categories:{required:true},service_des:{required:true},service_price:{required:true},service_time:{required:true}},messages:{service_title:t,service_des:r,service_categories:n,service_price:s,service_time:a},submitHandler:function(e){i()},errorPlacement:function(e,i){e.insertAfter(i)},invalidHandler:function(){if(C(".error:visible").length>0){C("html, body").animate({scrollTop:C(".error:visible").offset().top-100},500)}}});function i(){var e=I.find('input[name="service_form"]').val(),i=I.find('input[name="service_id"]').val(),t=I.find('input[name="service_title"]').val(),r=I.find('select[name="service_categories"]').val(),n=I.find('select[name="service_skills"]').val(),s=I.find('input[name="service_price"]').val(),a=I.find('select[name="currency_type"]').val(),c=I.find('input[name="service_time"]').val(),l=I.find('select[name="service_time_type"]').val(),v=tinymce.get("service_des").getContent(),d=I.find('select[name="service_languages"]').val(),o=I.find('select[name="service_languages_level"]').val(),_=I.find('select[name="service_location"]').val(),u=I.find('input[name="civi_map_address"]').val(),f=I.find('input[name="civi_map_location"]').val(),m=I.find('input[name="civi_latitude"]').val(),p=I.find('input[name="civi_longtitude"]').val(),g=I.find('input[name="service_thumbnail_url"]').val(),h=I.find('input[name="service_thumbnail_id"]').val(),b=I.find('input[name="civi_gallery_ids[]"]').map(function(){return C(this).val()}).get(),y=I.find('input[name="service_video_url"]').val(),q=I.find('input[name="service_addons_title[]"]').map(function(){return C(this).val()}).get(),w=I.find('input[name="service_addons_price[]"]').map(function(){return C(this).val()}).get(),x=I.find('textarea[name="service_addons_description[]"]').map(function(){return C(this).val()}).get(),j=I.find('input[name="service_faq_title[]"]').map(function(){return C(this).val()}).get(),k=I.find('textarea[name="service_faq_description[]"]').map(function(){return C(this).val()}).get();C.ajax({dataType:"json",url:z,data:{action:"service_submit_ajax",service_form:e,service_id:i,service_title:t,service_categories:r,service_skills:n,service_price:s,service_currency:a,service_time:c,service_time_type:l,service_des:v,service_languages:d,service_languages_level:o,service_location:_,service_map_address:u,service_map_location:f,service_latitude:m,service_longtitude:p,service_thumbnail_url:g,service_thumbnail_id:h,civi_gallery_ids:b,service_video_url:y,service_addons_title:q,service_addons_price:w,service_addons_description:x,service_faq_title:j,service_faq_description:k},beforeSend:function(){C(".btn-submit-service .btn-loading").fadeIn()},success:function(e){C(".btn-submit-service .btn-loading").fadeOut();if(e.success===true){window.location.href=H}}})}})})(jQuery);