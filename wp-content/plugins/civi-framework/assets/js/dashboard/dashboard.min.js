var DASHBOARD=DASHBOARD||{};(function(w){"use strict";DASHBOARD={init:function(){this.closebtn();this.opennav();this.icon_setting();this.scrollToElement();this.scroll_top();this.tabs();this.tabs_active();this.tabs_change_heading();this.tabs_popup();this.form_popup();this.svg();this.search_canvas();this.select_tabs();this.about_jobs();this.service_conver_price();this.toggle_password();this.about_company();this.check_company()},svg:function(){var a=w(".list-nav-dashboard .nav-item"),e=w(".list-nav-dashboard .nav-item.active"),i=a.find("object.civi-svg").contents(),t=w(".civi-nav-dashboard").data("accent"),s=w(".civi-nav-dashboard").data("secondary");i.find("path").attr("fill",s);a.find("a").hover(function(){w(this).find("object.civi-svg").contents().find("path").attr("fill",t)},function(){i.find("path").attr("fill",s);e.find("object.civi-svg").contents().find("path").attr("fill",t)});e.find("object.civi-svg").contents().find("path").attr("fill",t)},closebtn:function(){var a=w(".nav-dashboard-wapper");var e=a.find(".closebtn");e.click(function(){w(".nav-dashboard-wapper").toggleClass("close");if(e.find("i").hasClass("fas fa-arrow-right")){e.find("i").removeAttr("class","fas fa-arrow-right");w(this).find("i").attr("class","fas fa-arrow-left");a.css({width:"260px","overflow-y":"auto"});a.find(".nav-profile-strength").css("display","block");a.find(".nav-item a").removeClass("tooltip");if(w("body").hasClass("rtl")){w(".page-dashboard #civi-content-dashboard").css("padding-right","290px")}else{w(".page-dashboard #civi-content-dashboard").css("padding-left","290px")}}else{e.find("i").removeAttr("class","fas fa-arrow-left");w(this).find("i").attr("class","fas fa-arrow-right");a.css({width:"55px","overflow-y":"unset"});a.find(".nav-profile-strength").css("display","none");a.find(".nav-item a").addClass("tooltip");if(w("body").hasClass("rtl")){a.find(".list-nav-dashboard").css("margin-right","0");w(".page-dashboard #civi-content-dashboard").css("padding-right","85px")}else{a.find(".list-nav-dashboard").css("margin-left","0");w(".page-dashboard #civi-content-dashboard").css("padding-left","85px")}}})},search_canvas:function(){var a="#"+w(".form-search-canvas .jobs-search-canvas").attr("id");var e=w(a).data("key");if(window.matchMedia("(max-width: 1199PX)").matches){w(a).autocomplete({source:e,minLength:0,autoFocus:true,focus:true}).focus(function(){w(this).data("uiAutocomplete").search(w(this).val())})}},opennav:function(){var a=w(".nav-dashboard-inner");a.find(".icon-nav-mobie").click(function(){a.toggleClass("open-nav");if(a.hasClass("open-nav")){w(this).css("left","260px")}else{w(this).css("left","0")}});a.find(".bg-overlay").click(function(){a.removeClass("open-nav");a.find(".icon-nav-mobie").css("left","0")})},icon_setting:function(){var a=".action-setting .icon-setting";w("body").on("click",a,function(a){var e=w(this).closest(".action-setting");var i=w(e).find(".action-dropdown");a.preventDefault();w(i).toggleClass("show");w(".action-setting .action-dropdown").not(i).removeClass("show");w(e).css("z-index","2");w(".action-setting").not(e).css("z-index","1")})},scrollToElement:function(){var a=w("#company-review-details");var e=location.hash.replace("#","");w(window).load(function(){if(e=="company-review-details"){w("html, body").animate({scrollTop:a.offset().top},1e3)}})},scroll_top:function(){var e=190;var i=w(".civi-submit-header");w(window).scroll(function(){var a=t();if(a>=e){i.addClass("scroll")}else{i.removeClass("scroll")}});function t(){return window.pageYOffset}},toggle_password:function(){w(".civi-toggle-password").click(function(){w(this).toggleClass("fa-eye fa-eye-slash");var a=w(w(this).attr("toggle"));if(a.attr("type")=="password"){a.attr("type","text")}else{a.attr("type","password")}})},tabs:function(){function a(a){w(".tab-dashboard ul li").removeClass("active");w(a).addClass("active");var e=w(a).find("a").attr("href");w(".tab-info").hide();w(e).show()}w(".tab-list li").click(function(){a(this);return false});a(w(".tab-list li:first-child"))},tabs_active:function(){function a(a){w(".tab-dashboard-active ul li").removeClass("active");w(".tab-info-active").removeClass("active");w(a).addClass("active");var e=w(a).find("a").attr("href");w(".tab-info-active").hide();w(e).show()}w(".tab-list-active li").click(function(){a(this);return false})},tabs_change_heading:function(){var i=w(".my-candidate");i.find(".tab-list li").click(function(){var a=w(this).find("a");var e=a.data("text");i.find(".entry-title h4").text(e)})},tabs_popup:function(){function a(a){w(".tab-popup-warpper ul li").removeClass("active");w(a).addClass("active");var e=w(a).find("a").attr("href");w(e).show()}w(".tab-list-popup li").click(function(){w(".tab-popup").hide();a(this);return false})},form_popup:function(){w(".form-popup").each(function(){if(w(this).is("#form-invite-popup")){var e="#form-invite-popup";var a="#btn-invite-candidate"}else if(w(this).is("#form-messages-popup")){var e="#form-messages-popup";var a="#civi-add-messages"}else if(w(this).is("#form-messages-applicants")){var e="#form-messages-applicants";var a="#btn-mees-applicants"}else if(w(this).is("#form-setting-deactive")){var e="#form-setting-deactive";var a="#btn-setting-deactive"}else if(w(this).is("#form-candidate-user-package")){var e="#form-candidate-user-package";var a="#action-user-package"}else if(w(this).is("#form-service-order-refund")){var e="#form-service-order-refund";var a=".btn-order-refund"}else if(w(this).is("#form-service-view-reason")){var e="#form-service-view-reason";var a=".btn-view-reason"}else if(w(this).is("#form-service-withdraw")){var e="#form-service-withdraw";var a="#btn-service-withdraw"}else if(w(this).is("#form-employer-user-package")){var e="#form-employer-user-package";var a="#action-employer-user-package"}else{var e="#civi-form-setting-meetings";var a="#btn-meeting-settings"}var i=w(e).find(".btn-close");var t=w(e).find(".bg-overlay");var s=w(e).find(".button-cancel");function n(a){a.preventDefault();w(e).css({opacity:"1",visibility:"unset"})}function c(a){a.preventDefault();w(e).css({opacity:"0",visibility:"hidden"})}w("body").on("click",a,n);t.click(c);i.click(c);s.click(c)})},select_tabs:function(){w(".civi-section-salary-select").hide();w("#select-salary-pay").change(function(){w(".civi-section-salary-select").hide();w("#"+w(this).val()).show();if(w(this).val()=="agree"){w("#jobs_rate").hide()}else{w("#jobs_rate").show()}});w("#"+w("#select-salary-pay option[selected]").val()).show();w(".civi-section-apply-select").hide();w("#select-apply-type").change(function(){w(".civi-section-apply-select").hide();w("#"+w(this).val()).show()});w("#"+w("#select-apply-type").val()).show()},about_jobs:function(){var a=w("#jobs-submit-general"),e=a.find('input[name="jobs_title"]'),i=a.find('select[name="jobs_categories"]'),t=a.find('select[name="jobs_type"]'),s=w(".about-jobs-dashboard"),n=s.find(".title-about"),c=s.find(".cate-about"),o=s.find(".label-warpper .label-type-inner"),r=s.find(".label-warpper .label-location-inner"),l=s.find(".img-company"),f=s.find(".name-company");e.keyup(function(){var a=w(this).val();var e=n.data("title");if(a==""){n.text(e)}else{n.text(a)}}).trigger("keyup");i.change(function(){var a="";var e=c.data("cate");w(this).find("option:selected").each(function(){a+=w(this).text()+" "});if(w(this).val()==""){c.text(e)}else{c.text(a)}}).trigger("change");t.change(function(){var a="",e="";w(this).find("option:selected").each(function(){a=w(this).text()+" ";e+='<div class="label label-type">'+a+"</div>"});o.html(e)}).trigger("change");var d=w('select[name="jobs_location"]');d.change(function(){var a="";w(this).find("option:selected").each(function(){a='<div class="label label-location"><i class="fas fa-map-marker-alt"></i>'+w(this).text()+"</div>"});if(w(this).val()!==""){r.html(a)}}).trigger("change");var v=w('select[name="jobs_select_company"]');v.change(function(){var a="",e="",i=f.data("name");w(this).find("option:selected").each(function(){a=w(this).data("url");e=w(this).text()});if(a==""){l.html('<i class="far fa-camera"></i>')}else{l.html('<img src ="'+a+'" alt=""/>')}if(w(this).val()!==""){f.text(e)}else{f.text(i)}}).trigger("change");var p=w("#jobs-submit-salary"),h=p.find('select[name="jobs_currency_type"]'),m=p.find('select[name="jobs_salary_show"]'),u=p.find('select[name="jobs_salary_rate"]'),g=p.find('input[name="jobs_salary_minimum"]'),b=p.find('input[name="jobs_salary_maximum"]'),y=p.find('input[name="jobs_maximum_price"]'),_=p.find('input[name="jobs_minimum_price"]'),k=s.find(".label-price");m.change(function(){var a="",e=m.find("option:selected").val(),i=k.data("text-min"),t=k.data("text-max"),s=k.data("text-agree"),n=u.find("option:selected").val(),c=h.find("option:selected").val();if(e=="range"){var o=g.val().toString().replace(/\B(?=(\d{3})+(?!\d))/g,",");var r=b.val().toString().replace(/\B(?=(\d{3})+(?!\d))/g,",");y.val("");_.val("");a='<i class="fas fa-money-bill-alt"></i><span class="salary-currency">'+c+'</span><span class="salary-minimum">'+o+'</span> - <span class="salary-currency">'+c+'</span><span class="salary-maximum">'+r+'</span> / <span class="salary-rate">'+n+"</span>"}if(e=="maximum_amount"){var l=y.val().toString().replace(/\B(?=(\d{3})+(?!\d))/g,",");g.val("");b.val("");_.val("");a='<i class="fas fa-money-bill-alt"></i>'+t+'<span class="salary-currency">'+c+'</span><span class="price-maximum">'+l+'</span></span> / <span class="salary-rate">'+n+"</span>"}if(e=="starting_amount"){var f=_.val().toString().replace(/\B(?=(\d{3})+(?!\d))/g,",");g.val("");b.val("");y.val("");a='<i class="fas fa-money-bill-alt"></i>'+i+'<span class="salary-currency">'+c+'</span><span class="price-minimum">'+f+'</span></span> / <span class="salary-rate">'+n+"</span>"}if(e=="agree"){g.val("");b.val("");y.val("");_.val("");a=s}k.html(a)}).trigger("change");h.change(function(){var a=h.find("option:selected").val();w(".salary-currency").html(a)}).trigger("change");u.change(function(){var a=u.find("option:selected").val();w(".salary-rate").html(a)}).trigger("change");g.keyup(function(){var a=g.val().toString().replace(/\B(?=(\d{3})+(?!\d))/g,",");w(".salary-minimum").html(a)}).trigger("keyup");b.keyup(function(){var a=b.val().toString().replace(/\B(?=(\d{3})+(?!\d))/g,",");w(".salary-maximum").html(a)}).trigger("keyup");y.keyup(function(){var a=y.val().toString().replace(/\B(?=(\d{3})+(?!\d))/g,",");w(".price-maximum").html(a)}).trigger("keyup");_.keyup(function(){var a=_.val().toString().replace(/\B(?=(\d{3})+(?!\d))/g,",");w(".price-minimum").html(a)}).trigger("keyup")},about_company:function(){var a=w("#company-submit-general"),e=a.find('input[name="company_title"]'),i=w('select[name="company_location"]'),t=w(".about-company-dashboard"),s=t.find(".title-about"),n=t.find(".des-about"),c=t.find(".location-about");e.keyup(function(){var a=w(this).val();var e=s.data("title");if(a==""){s.text(e)}else{s.text(a)}}).trigger("keyup");i.change(function(){var a="";var e=c.data("location");w(this).find("option:selected").each(function(){a+=w(this).text()+" "});if(w(this).val()==""){c.text(e)}else{c.text(a)}}).trigger("change");if(typeof tinyMCE!=="undefined"){if(w("#wp-company_des-wrap").hasClass("tmce-active")){tinyMCE.get("company_des").on("keyup",function(){var a=tinyMCE.get("company_des").getContent({format:"text"});if(a==""){n.text("")}else{n.text(a)}})}}},check_company:function(){var a=w("#company-submit-general"),e=a.find('input[name="company_website"]'),i=a.find('input[name="company_phone"]'),t=w('#company-submit-location select[name="company_location"]'),s=w(".about-company-dashboard"),n=s.find(".check-webs"),c=n.data("verified"),o=n.data("not-verified"),r=s.find(".check-phone"),l=r.data("verified"),f=r.data("not-verified"),d=s.find(".check-location"),v=d.data("verified"),p=d.data("not-verified");e.keyup(function(){var a=w(this).val();if(a!==""){n.html('<i class="fas fa-check"></i>'+c);n.addClass("active")}else{n.html('<i class="fas fa-check"></i>'+o);n.removeClass("active")}if(n.hasClass("active")&&r.hasClass("active")&&d.hasClass("active")){s.find(".civi-check-company").addClass("active")}else{s.find(".civi-check-company").removeClass("active")}}).trigger("keyup");i.keyup(function(){var a=w(this).val();if(a!==""){r.html('<i class="fas fa-check"></i>'+l);r.addClass("active")}else{r.html('<i class="fas fa-check"></i>'+f);r.removeClass("active")}if(n.hasClass("active")&&r.hasClass("active")&&d.hasClass("active")){s.find(".civi-check-company").addClass("active")}else{s.find(".civi-check-company").removeClass("active")}}).trigger("keyup");t.change(function(){var a=w(this).val();if(a!==""){d.html('<i class="fas fa-check"></i>'+v);d.addClass("active")}else{d.html('<i class="fas fa-check"></i>'+p);d.removeClass("active")}if(n.hasClass("active")&&r.hasClass("active")&&d.hasClass("active")){s.find(".civi-check-company").addClass("active")}else{s.find(".civi-check-company").removeClass("active")}}).trigger("change")},service_conver_price:function(){var a=w("#submit_service_form"),e=a.find('input[name="service_price"]'),i=a.find('input[name="price_received"]'),t=i.data("price-received");e.keyup(function(){var a=parseInt(e.val())*(100-parseInt(t))/100;i.val(parseInt(a))}).trigger("keyup")}};w(document).ready(function(){DASHBOARD.init()})})(jQuery);